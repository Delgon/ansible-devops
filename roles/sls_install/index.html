<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/ansible-devops/roles/sls_install/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>sls_install - MAS Devops Collection</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "sls_install";
        var mkdocs_page_input_path = "roles/sls_install.md";
        var mkdocs_page_url = "/ansible-devops/roles/sls_install/";
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> MAS Devops Collection
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Full Stack Playbooks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/fullstack-roks/">IBM Cloud</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Lite Playbooks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/lite-core-roks/">Core only on IBM Cloud</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/lite-core-quickburn/">Core only on QuickBurn</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/lite-manage-roks/">Manage on IBM Cloud</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Other Playbooks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/ocp/">OCP Playbooks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/dependencies/">Dependencies Playbooks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/cp4d/">CP4D Playbooks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/mas/">MAS Playbooks</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../amqstreams/">amqstreams</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ansible_version_check/">ansible_version_check</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../appconnect_install/">appconnect_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cos_setup/">cos_setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_db2wh/">cp4d_db2wh</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_db2wh_backup/">cp4d_db2wh_backup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_db2wh_manage_hack/">cp4d_db2wh_manage_hack</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_db2wh_restore/">cp4d_db2wh_restore</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_hack_worker_nodes/">cp4d_hack_worker_nodes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_install/">cp4d_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_install_services/">cp4d_install_services</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../db2u/">db2u</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_jdbc/">gencfg_jdbc</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_sls/">gencfg_sls</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_uds/">gencfg_uds</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_workspace/">gencfg_workspace</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gpu_install/">gpu_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install_operator/">install_operator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mongodb/">mongodb</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_deprovision/">ocp_deprovision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_login/">ocp_login</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_provision/">ocp_provision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_setup_github_oauth/">ocp_setup_github_oauth</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_setup_mas_deps/">ocp_setup_mas_deps</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_setup_ocs/">ocp_setup_ocs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_verify/">ocp_verify</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">sls_install</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#role-variables">Role Variables</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#sls_entitlement_key">sls_entitlement_key</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_catalog_source">sls_catalog_source</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_channel">sls_channel</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_namespace">sls_namespace</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_icr_cp">sls_icr_cp</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_icr_cpopen">sls_icr_cpopen</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_instance_name">sls_instance_name</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_entitlement_username">sls_entitlement_username</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_storage_class">sls_storage_class</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_storage_size">sls_storage_size</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_domain">sls_domain</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_auth_enforce">sls_auth_enforce</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_compliance_enforce">sls_compliance_enforce</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_registration_open">sls_registration_open</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#bootstraplicense_id">bootstrap.license_id</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#bootstrapregistration_key">bootstrap.registration_key</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#bootstraplicense_file">bootstrap.license_file</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_mongodb_cfg_file">sls_mongodb_cfg_file</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_mongodbhosts">sls_mongodb.hosts</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_mongodbusername">sls_mongodb.username</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sls_mongodbpassword">sls_mongodb.password</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#example-playbook">Example Playbook</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#license">License</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_configure/">suite_app_configure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_install/">suite_app_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_config/">suite_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_dns/">suite_dns</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_install/">suite_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_mustgather/">suite_mustgather</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_mustgather_download/">suite_mustgather_download</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_verify/">suite_verify</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../uds_install/">uds_install</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">MAS Devops Collection</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Roles &raquo;</li><li>sls_install</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/ibm-mas/ansible-devops/blob/master/docs/roles/sls_install.md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="sls_install">sls_install<a class="headerlink" href="#sls_install" title="Permanent link"></a></h1>
<p>Install <strong>IBM Suite License Service</strong> and generate properties that can be used in the <a href="../gencfg_sls/">gencfg_sls</a> role to create a configuration that can be directly applied to IBM Maximo Application Suite.</p>
<p>The role assumes that you have already installed the Certificate Manager in the target cluster.  This action is performed by the <a href="../ocp_setup_mas_deps/">ocp_setup_mas_deps</a> role if you want to use this collection to install the cert-manager operator.</p>
<h2 id="role-variables">Role Variables<a class="headerlink" href="#role-variables" title="Permanent link"></a></h2>
<h3 id="sls_entitlement_key">sls_entitlement_key<a class="headerlink" href="#sls_entitlement_key" title="Permanent link"></a></h3>
<p>Required.  API Key for entitled registry. This password will be used to create the image pull secret.</p>
<ul>
<li>Environment Variable: <code>SLS_ENTITLEMENT_KEY</code> or <code>IBM_ENTITLEMENT_KEY</code></li>
<li>Default: None</li>
</ul>
<h3 id="sls_catalog_source">sls_catalog_source<a class="headerlink" href="#sls_catalog_source" title="Permanent link"></a></h3>
<p>Defines the OLM catalog to be used to install SLS. Set to <code>ibm-sls-operators</code> if you want to deploy pre-release development builds of SLS or leave as the default <code>ibm-operator-catalog</code> for the released versions. </p>
<ul>
<li>Environment Variable: <code>SLS_CATALOG_SOURCE</code></li>
<li>Default: <code>ibm-operator-catalog</code></li>
</ul>
<h3 id="sls_channel">sls_channel<a class="headerlink" href="#sls_channel" title="Permanent link"></a></h3>
<p>The SLS OLM subscription channel to be installed.</p>
<ul>
<li>Environment Variable: <code>SLS_CHANNEL</code></li>
<li>Default: <code>3.x</code></li>
</ul>
<h3 id="sls_namespace">sls_namespace<a class="headerlink" href="#sls_namespace" title="Permanent link"></a></h3>
<p>Define the namespace where sls must be installed.</p>
<ul>
<li>Environment Variable: <code>SLS_NAMESPACE</code></li>
<li>Default: <code>ibm-sls</code></li>
</ul>
<h3 id="sls_icr_cp">sls_icr_cp<a class="headerlink" href="#sls_icr_cp" title="Permanent link"></a></h3>
<p>The container registry source for all container images deployed by the SLS operator. Override to use development images</p>
<ul>
<li>Environment Variable: <code>SLS_ICR_CP</code></li>
<li>Default: <code>cp.icr.io/cp</code></li>
</ul>
<h3 id="sls_icr_cpopen">sls_icr_cpopen<a class="headerlink" href="#sls_icr_cpopen" title="Permanent link"></a></h3>
<p>The container registry source for the SLS operator container image. Override to use development image</p>
<ul>
<li>Environment Variable: <code>SLS_ICR_CPOPEN</code></li>
<li>Default: <code>icr.io/cpopen</code></li>
</ul>
<h3 id="sls_instance_name">sls_instance_name<a class="headerlink" href="#sls_instance_name" title="Permanent link"></a></h3>
<p>Defines the instance ID to be used for SLS installation.</p>
<ul>
<li>Environment Variable: <code>SLS_INSTANCE_NAME</code></li>
<li>Default: <code>sls</code></li>
</ul>
<h3 id="sls_entitlement_username">sls_entitlement_username<a class="headerlink" href="#sls_entitlement_username" title="Permanent link"></a></h3>
<p>Username for entitled registry. This username will be used to create the image pull secret.</p>
<ul>
<li>Environment Variable: <code>SLS_ENTITLEMENT_USERNAME</code></li>
<li>Default: <code>cp</code></li>
</ul>
<h3 id="sls_storage_class">sls_storage_class<a class="headerlink" href="#sls_storage_class" title="Permanent link"></a></h3>
<p>The Storage class on the target cluster to be used for the SLS Persistent Volume Claim. There is no performance requirement on this storage and both block and file storage are supported. Note: Since SLS 3.2.4 no Persistent Volume is required so no storage class is needed.</p>
<ul>
<li>Environment Variable: <code>SLS_STORAGE_CLASS</code></li>
<li>Default: None</li>
</ul>
<h3 id="sls_storage_size">sls_storage_size<a class="headerlink" href="#sls_storage_size" title="Permanent link"></a></h3>
<p>The size of the storage on the target cluster to be used for the SLS Persistent Volume Claim .Note: Since SLS 3.2.4 no Persistent Volume is required so no storage size is needed.</p>
<ul>
<li>Environment Variable: None</li>
<li>Default: <code>5g</code></li>
</ul>
<h3 id="sls_domain">sls_domain<a class="headerlink" href="#sls_domain" title="Permanent link"></a></h3>
<p>SLS can be configured to be externally accessible through a route by setting the domain. Set the domain if SLS is used by application suites that are installed in separate OpenShift clusters.</p>
<ul>
<li>Environment Variable: <code>SLS_DOMAIN</code></li>
<li>Default: None</li>
</ul>
<h3 id="sls_auth_enforce">sls_auth_enforce<a class="headerlink" href="#sls_auth_enforce" title="Permanent link"></a></h3>
<p>Determines whether authorization is enforced. If set to true, clients must use mTLS with certificates generated from the client registration flow for SLS API calls.</p>
<ul>
<li>Environment Variable: <code>SLS_AUTH_ENFORCE</code></li>
<li>Default: <code>True</code></li>
</ul>
<h3 id="sls_compliance_enforce">sls_compliance_enforce<a class="headerlink" href="#sls_compliance_enforce" title="Permanent link"></a></h3>
<p>Determines whether compliance is enforced. If there are not enough tokens to support the request. If compliance is not enforced, license checkout requests will be allowed even if there are not enough tokens to support the request.</p>
<ul>
<li>Environment Variable: <code>SLS_COMPLIANCE_ENFORCE</code></li>
<li>Default: <code>True</code></li>
</ul>
<h3 id="sls_registration_open">sls_registration_open<a class="headerlink" href="#sls_registration_open" title="Permanent link"></a></h3>
<p>Determines whether registration is open. If set to true, clients will be able to register themselves with SLS and use SLS APIs.</p>
<ul>
<li>Environment Variable: <code>SLS_REGISTRATION_OPEN</code></li>
<li>Default: <code>True</code></li>
</ul>
<h3 id="bootstraplicense_id">bootstrap.license_id<a class="headerlink" href="#bootstraplicense_id" title="Permanent link"></a></h3>
<p>Defines the License Id to be used to bootstrap SLS. Don't set if you wish to setup entitlement later on</p>
<ul>
<li>Environment Variable: <code>SLS_LICENSE_ID</code></li>
<li>Default: None</li>
</ul>
<h3 id="bootstrapregistration_key">bootstrap.registration_key<a class="headerlink" href="#bootstrapregistration_key" title="Permanent link"></a></h3>
<p>Defines the Registration Key to be used to bootstrap SLS. Don't set if you wish to setup entitlement later on</p>
<ul>
<li>Environment Variable: <code>SLS_REGISTRATION_KEY</code></li>
<li>Default: None</li>
</ul>
<h3 id="bootstraplicense_file">bootstrap.license_file<a class="headerlink" href="#bootstraplicense_file" title="Permanent link"></a></h3>
<p>Defines the License File to be used to bootstrap SLS. Don't set if you wish to setup entitlement later on. Note: this variable used to be called bootstrap.entitlement_file and defaulted to <code>{{mas_config_dir}}/entitlement.lic</code>, this is no longer the case and <code>SLS_LICENSE_FILE</code> has to be set in order to bootstrap.</p>
<ul>
<li>Environment Variable: <code>SLS_LICENSE_FILE</code></li>
<li>Default: None</li>
</ul>
<h3 id="sls_mongodb_cfg_file">sls_mongodb_cfg_file<a class="headerlink" href="#sls_mongodb_cfg_file" title="Permanent link"></a></h3>
<p>Either <code>sls_mongodb_cfg_file</code> or the <code>sls_mongodb</code> object are required to configure MongoDb.  Location of a MAS MongoCfg defintion (as generated by the <code>mongodb</code> role).  If provided the role will use the information in that config file to configure SLS.</p>
<ul>
<li>Environment Variable: <code>SLS_MONGODB_CFG_FILE</code></li>
<li>Default: None</li>
</ul>
<h3 id="sls_mongodbhosts">sls_mongodb.hosts<a class="headerlink" href="#sls_mongodbhosts" title="Permanent link"></a></h3>
<p>Either <code>sls_mongodb_cfg_file</code> or the <code>sls_mongodb</code> object are required to configure MongoDb.  Defines list of host and port pair for MongoDb to be used with SLS.</p>
<ul>
<li>Environment Variable: None</li>
<li>Default: None</li>
</ul>
<h3 id="sls_mongodbusername">sls_mongodb.username<a class="headerlink" href="#sls_mongodbusername" title="Permanent link"></a></h3>
<p>Either <code>sls_mongodb_cfg_file</code> or the <code>sls_mongodb</code> object are required to configure MongoDb.  Defines the MongoDB Username.</p>
<ul>
<li>Environment Variable: None</li>
<li>Default: None</li>
</ul>
<h3 id="sls_mongodbpassword">sls_mongodb.password<a class="headerlink" href="#sls_mongodbpassword" title="Permanent link"></a></h3>
<p>Either <code>sls_mongodb_cfg_file</code> or the <code>sls_mongodb</code> object are required to configure MongoDb.  Defines the MongoDb Password.</p>
<ul>
<li>Environment Variable: None</li>
<li>Default: None</li>
</ul>
<h2 id="example-playbook">Example Playbook<a class="headerlink" href="#example-playbook" title="Permanent link"></a></h2>
<pre><code class="language-yaml">- hosts: localhost
  any_errors_fatal: true
  vars:
    sls_entitlement_key: &quot;{{ lookup('env', 'SLS_ENTITLEMENT_KEY') }}&quot;

    sls_mongodb_cfg_file: &quot;/etc/mas/mongodb.yml&quot;

    bootstrap:
      license_id: &quot;aa78dd65ef10&quot;
      license_file: &quot;/etc/mas/entitlement.lic&quot;
      registration_key: &quot;{{ lookup('env', 'SLS_REGISTRATION_KEY') }}&quot;

  roles:
    - ibm.mas_devops.sls_install
</code></pre>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link"></a></h2>
<p>EPL-2.0</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/ansible-devops" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../ocp_verify/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../suite_app_configure/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
