<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/ansible-devops/roles/suite_app_install/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>suite_app_install - MAS Devops Collection</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "suite_app_install";
        var mkdocs_page_input_path = "roles/suite_app_install.md";
        var mkdocs_page_url = "/ansible-devops/roles/suite_app_install/";
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> MAS Devops Collection
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../changes/">Changes</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Playbooks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/ocp/">OCP</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-core/">Install Core</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-iot/">Add IoT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-manage/">Add Manage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-monitor/">Add Monitor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-optimizer/">Add Optimizer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-update/">Update</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-upgrade/">Upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-visualinspection/">Add Visual Inspection</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles: OCP Mgmt</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_deprovision/">ocp_deprovision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_disable_updates/">ocp_disable_updates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_github_oauth/">ocp_github_oauth</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_login/">ocp_login</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_provision/">ocp_provision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_roks_upgrade_registry_storage/">ocp_roks_upgrade_registry_storage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_upgrade/">ocp_upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_verify/">ocp_verify</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles: Dependency Mgmt</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../appconnect/">appconnect</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cert_manager/">cert_manager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cert_manager_upgrade/">cert_manager_upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cert_manager_upgrade_check/">cert_manager_upgrade_check</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cluster_monitoring/">cluster_monitoring</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cos/">cos</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_hack_worker_nodes/">cp4d_hack_worker_nodes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d/">cp4d</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_service/">cp4d_service</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_upgrade/">cp4d_upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../db2/">db2</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../db2_backup/">db2_backup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../db2_restore/">db2_restore</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../kafka/">kafka</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nvidia_gpu/">nvidia_gpu</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mongodb/">mongodb</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocs/">ocs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sbo/">sbo</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sbo_upgrade/">sbo_upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sls/">sls</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../uds/">uds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles: Suite Mgmt</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_config/">suite_app_config</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">suite_app_install</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#role-variables">Role Variables</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#mas_app_plan">mas_app_plan</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mas_app_spec">mas_app_spec</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mas_app_settings_iot_deployment_size">mas_app_settings_iot_deployment_size</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mas_app_settings_iot_fpl_pvc_storage_class">mas_app_settings_iot_fpl_pvc_storage_class</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mas_app_settings_iot_fpl_router_pvc_size">mas_app_settings_iot_fpl_router_pvc_size</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mas_app_settings_iot_fpl_executor_pvc_size">mas_app_settings_iot_fpl_executor_pvc_size</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#example-playbook">Example Playbook</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#license">License</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_upgrade/">suite_app_upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_config/">suite_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_db2_setup_for_manage/">suite_db2_setup_for_manage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_dns/">suite_dns</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_install/">suite_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_manage_attachments_config/">suite_manage_attachments_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_mustgather/">suite_mustgather</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_mustgather_download/">suite_mustgather_download</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_upgrade/">suite_upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_verify/">suite_verify</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles: Utilities</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ansible_version_check/">ansible_version_check</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_jdbc/">gencfg_jdbc</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_workspace/">gencfg_workspace</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install_operator/">install_operator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_watsonstudio/">gencfg_watsonstudio</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">MAS Devops Collection</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Roles: Suite Mgmt &raquo;</li>
      <li>suite_app_install</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ibm-mas/ansible-devops/blob/master/docs/roles/suite_app_install.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="suite_app_install">suite_app_install<a class="headerlink" href="#suite_app_install" title="Permanent link"></a></h1>
<p>This role is used to install a specified application in Maximo Application Suite.</p>
<h2 id="role-variables">Role Variables<a class="headerlink" href="#role-variables" title="Permanent link"></a></h2>
<ul>
<li><code>mas_app_catalog_source</code> Defines the catalog to be used to install the MAS app. You can set it to ibm-operator-catalog for release install or ibm-mas-{mas_app_id}-operators for development, where {mas_app_id} will be manage for the Manage and Health app installation, for example.</li>
<li><code>artifactory_username</code> Required when using this role for development versions of the MAS application</li>
<li><code>artifactory_apikey</code> Required when using this role for development versions of the MAS application</li>
<li><code>mas_app_channel</code> Defines which channel of the MAS application to subscribe to. Set to <code>8.x</code> when installing released version</li>
<li><code>mas_instance_id</code> Defines the instance id that was used for the MAS installation</li>
<li><code>mas_icr_cp</code> Defines the entitled registry from the images should be pulled from. Set this to <code>cp.icr.io/cp</code> when installing release version of MAS or <code>wiotp-docker-local.artifactory.swg-devops.com</code> for dev</li>
<li><code>mas_entitlement_username</code> Username for entitled registry. This username will be used to create the image pull secret. Set to <code>cp</code> when installing release or use your <code>w3Id</code> for dev</li>
<li><code>mas_entitlement_key</code> API Key for entitled registry. This password will be used to create the image pull secret. Set to with IBM entitlement key when installing release or use your artifactory <code>apikey</code> for dev.</li>
<li><code>mas_app_id</code> Defines the kind of application that is intended for installation such as <code>assist</code>, <code>health</code>, <code>iot</code>, <code>manage</code>, <code>monitor</code>, <code>mso</code>, <code>predict</code>, or <code>safety</code></li>
<li><code>mas_app_upgrade_strategy</code> Defines the Upgrade strategy for the MAS Application Operator. Default is set to Automatic</li>
</ul>
<h3 id="mas_app_plan">mas_app_plan<a class="headerlink" href="#mas_app_plan" title="Permanent link"></a></h3>
<p>Optional. Defines what plan will be used in application install.</p>
<ul>
<li>Environment Variable: <code>MAS_APP_PLAN</code></li>
<li>Default: Application-specific, see details below.</li>
<li>Application Support:</li>
<li>Optimizer v8.2+: <code>full</code> and <code>limited</code> are supported, defaults to <code>full</code></li>
</ul>
<h3 id="mas_app_spec">mas_app_spec<a class="headerlink" href="#mas_app_spec" title="Permanent link"></a></h3>
<p>Optional. The application deployment spec used to configure different aspects of the application deployment configuration.</p>
<ul>
<li>Environment Variable: None</li>
<li>Default: defaults are specified in vars/defaultspecs/{{mas_app_id}}.yml</li>
</ul>
<h3 id="mas_app_settings_iot_deployment_size">mas_app_settings_iot_deployment_size<a class="headerlink" href="#mas_app_settings_iot_deployment_size" title="Permanent link"></a></h3>
<p>Optional, The IoT deployment size, one of <code>dev</code>, <code>small</code> or <code>large</code>.</p>
<ul>
<li>Environment Variable: <code>MAS_APP_SETTINGS_IOT_DEPLOYMENT_SIZE</code></li>
<li>Default: <code>small</code></li>
<li>Application Support:</li>
<li>IoT 8.6</li>
</ul>
<h3 id="mas_app_settings_iot_fpl_pvc_storage_class">mas_app_settings_iot_fpl_pvc_storage_class<a class="headerlink" href="#mas_app_settings_iot_fpl_pvc_storage_class" title="Permanent link"></a></h3>
<p>Optional. The persistent volume storage class used by the iot fpl component for transient state storage</p>
<ul>
<li>Environment Variable: <code>MAS_APP_SETTINGS_IOT_FPL_PVC_STORAGE_CLASS</code></li>
<li>Default: Auto-selected from storage classes installed in the cluster.</li>
<li>Application Support:</li>
<li>IoT 8.6</li>
</ul>
<h3 id="mas_app_settings_iot_fpl_router_pvc_size">mas_app_settings_iot_fpl_router_pvc_size<a class="headerlink" href="#mas_app_settings_iot_fpl_router_pvc_size" title="Permanent link"></a></h3>
<p>Optional. The persistent volume size used by the iot fpl pipeline router for transient state storage</p>
<ul>
<li>Environment Variable: <code>MAS_APP_SETTINGS_IOT_FPL_ROUTER_PVC_SIZE</code></li>
<li>Default: 100Gi.</li>
<li>Application Support:</li>
<li>IoT 8.6</li>
</ul>
<h3 id="mas_app_settings_iot_fpl_executor_pvc_size">mas_app_settings_iot_fpl_executor_pvc_size<a class="headerlink" href="#mas_app_settings_iot_fpl_executor_pvc_size" title="Permanent link"></a></h3>
<p>Optional. The persistent volume size used by the iot fpl pipeline router for transient state storage</p>
<ul>
<li>Environment Variable: <code>MAS_APP_SETTINGS_IOT_FPL_EXECUTOR_PVC_SIZE</code></li>
<li>Default: 100Gi.</li>
<li>Application Support:</li>
<li>IoT 8.6</li>
</ul>
<h2 id="example-playbook">Example Playbook<a class="headerlink" href="#example-playbook" title="Permanent link"></a></h2>
<pre><code class="language-yaml">- hosts: localhost
  any_errors_fatal: true
  vars:
    # Choose which catalog source to use for the MAS install, default to the IBM operator catalog
    mas_app_catalog_source: &quot;{{ lookup('env', 'MAS_APP_CATALOG_SOURCE') | default('ibm-operator-catalog', true) }}&quot;

    # Which MAS channel to subscribe to
    mas_app_channel: &quot;{{ lookup('env', 'MAS_APP_CHANNEL') | default('8.x', true) }}&quot;

    # MAS configuration
    mas_instance_id: &quot;{{ lookup('env', 'MAS_INSTANCE_ID') }}&quot;

    # MAS configuration - IBM container registry configuration
    mas_icr_cp: &quot;{{ lookup('env', 'MAS_ICR_CP') | default('cp.icr.io/cp', true) }}&quot;

    # MAS configuration - Entitlement
    mas_entitlement_username: &quot;{{ lookup('env', 'MAS_ENTITLEMENT_USERNAME') | default('cp', true) }}&quot;
    mas_entitlement_key: &quot;{{ lookup('env', 'MAS_ENTITLEMENT_KEY') }}&quot;

    # MAS application configuration
    mas_app_id: &quot;{{ lookup('env', 'MAS_APP_ID') }}&quot;

    # Determine MAS Operator Upgrade Strategy Manual | Automatic
    mas_app_upgrade_strategy: &quot;{{ lookup('env', 'MAS_APP_UPGRADE_STRATEGY') | default('Manual', true) }}&quot;

    # Application Configuration - Spec
    mas_app_spec:
      bindings:
        jdbc: system
        mongo: system
        kafka: system
      settings:
        messagesight:
          storage:
            class: block1000p
            size: 100Gi
        deployment:
          size: medium

    # Application Configuration - Install Plan
    mas_app_plan: &quot;{{ lookup('env', 'MAS_APP_PLAN') | default('full', true) }}&quot;

  roles:
    - ibm.mas_devops.suite_app_install
</code></pre>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link"></a></h2>
<p>EPL-2.0</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/ansible-devops" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../suite_app_config/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../suite_app_upgrade/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
